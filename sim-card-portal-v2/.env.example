# ===========================================
# Database Configuration
# ===========================================
# Option 1: Full connection string (preferred for Supabase)
DATABASE_URL=postgresql://user:password@host:port/database

# Option 2: Individual connection parameters (fallback if DATABASE_URL not set)
DB_HOST=localhost
DB_PORT=5432
DB_USER=simportal
DB_PASSWORD=your_secure_password_here
DB_NAME=simcardportal

# Connection pool settings
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# ===========================================
# Supabase Configuration
# ===========================================
# Get these from: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ===========================================
# Google Maps API Key
# ===========================================
# Get your API key from: https://console.cloud.google.com/google/maps-apis
VITE_GOOGLE_MAPS_API_KEY=your_api_key_here

# Optional but recommended: Map ID for vector basemap and Advanced Markers
# Create one in Google Cloud Console > Maps Platform > Map Management
# https://developers.google.com/maps/documentation/javascript/cloud-based-map-styling
VITE_GOOGLE_MAPS_MAP_ID=8ce2879070ef66c85c1dc196

# Anthropic Claude API Key (for LLM chat feature)
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# ===========================================
# MQTT Bridge Configuration
# ===========================================
# MQTT Broker URL for backend (mqtt:// or mqtts:// for TLS)
MQTT_BROKER_URL=mqtt://your-mqtt-broker:1883

# MQTT WebSocket URL for frontend (ws:// or wss:// for TLS)
# Used by Vue.js app to connect to MQTT broker via WebSocket
# If not set, will auto-detect from current host using port 8083
VITE_MQTT_BROKER_URL=ws://your-mqtt-broker:8083/mqtt

# MQTT Authentication (optional - leave empty if not required)
MQTT_USERNAME=
MQTT_PASSWORD=

# MQTT Client ID (unique identifier for this bridge instance)
MQTT_CLIENT_ID=simcard-portal-bridge

# Enable TLS for MQTT connection
MQTT_USE_TLS=false

# Path to CA certificate (required if MQTT_USE_TLS=true)
# MQTT_CA_CERT_PATH=/path/to/ca.crt

# MQTT Topic prefix for device messages
# Devices should publish to: {prefix}/{device_id}/sensors or {prefix}/{device_id}/location
MQTT_TOPIC_PREFIX=simportal/devices

# ===========================================
# WebSocket Configuration (for real-time UI)
# ===========================================
# Port for WebSocket server (frontend connects here)
WEBSOCKET_PORT=3002

# WebSocket path
WEBSOCKET_PATH=/ws

# Frontend WebSocket URL (used by Vue.js app)
VITE_WEBSOCKET_URL=ws://localhost:3002/ws

# ===========================================
# Analytics Service API Configuration
# ===========================================
# Backend Analytics API URL (used by Vercel serverless functions)
# This is the external Analytics Service API
ANALYTICS_API_URL=http://localhost:9010

# Frontend Analytics API URL (proxied through /api/analytics/*)
VITE_ANALYTICS_API_URL=/api/analytics

# MCC-MNC Reference API for carrier name lookup
# Used to resolve MCCMNC codes (e.g., "22288") to carrier names (e.g., "TIM Italy")
MCCMNC_API_URL=https://mcc-mnc.net/api

# ===========================================
# OAuth2 / Keycloak Configuration (Analytics API Auth)
# ===========================================
# OAuth2 client credentials for Analytics API authentication
ANALYTICS_OAUTH_CLIENT_ID=sim-portal
ANALYTICS_OAUTH_CLIENT_SECRET=your-oauth-secret-here

# Keycloak realm URL for token acquisition
KEYCLOAK_URL=http://keycloak:8080/realms/Demo-Realm

# ===========================================
# API Server Configuration
# ===========================================
# API server port
API_PORT=3001

# Enable API integration in frontend
VITE_USE_API=true

# API URL for frontend (leave empty to use /api proxy path)
# VITE_API_URL=http://localhost:3001

# ===========================================
# MQTT WebSocket Configuration
# ===========================================
# MQTT WebSocket port (for dynamic URL building when VITE_MQTT_BROKER_URL not set)
VITE_MQTT_WS_PORT=8083

# ===========================================
# Monitoring & Observability
# ===========================================
# Grafana dashboard URL
VITE_GRAFANA_URL=http://localhost:3000

# InfluxDB configuration
VITE_INFLUXDB_URL=http://localhost:8086
VITE_INFLUXDB_TOKEN=your-influxdb-token

# EMQX Dashboard/API URL
EMQX_API_URL=http://localhost:18083
VITE_EMQX_DASHBOARD_URL=http://localhost:18083

# ===========================================
# Development Settings
# ===========================================
# Skip authentication for local development
SKIP_AUTH=false

# Node environment
NODE_ENV=development

# Vite dev server port
VITE_PORT=5173
